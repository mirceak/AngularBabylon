<form [formGroup]="form" #formDirective="ngForm" (ngSubmit)="emitSubmit()">
  <mat-card-content>
    <formly-form [form]="form" [fields]="fields"></formly-form>
  </mat-card-content>
  <mat-card-actions>
    <button
      mat-flat-button
      color="primary"
      type="submit"
      [disabled]="submitDisabled || !form.valid"
    >
      <mat-icon>{{ submitIcon }}</mat-icon> {{ submitLabel }}
    </button>
  </mat-card-actions>
</form>
